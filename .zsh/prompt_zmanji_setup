prompt_zmanji_setup() {
  GIT_PS1_SHOWDIRTYSTATE=1
  # Workaround for https://github.com/Homebrew/homebrew/issues/48428
  source $(brew --prefix)/etc/bash_completion.d/git-prompt.sh

  autoload -U colors && colors

  PROMPT='┌─ %{$fg[cyan]%}%~%{$reset_color%}%{$fg[green]%}$(__git_ps1 " (%s)")%{$reset_color%}$prompt_newline└─ ◆ '

  # Sigh: https://superuser.com/a/737454/69306
  _lineup=$'\e[1A'
  _linedown=$'\e[1B'
  RPROMPT='%{${_lineup}%}%*%{${_linedown}%}'
}
